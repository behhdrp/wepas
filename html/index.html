<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wepink - Black Friday</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
    <link rel="icon" href="https://wepink.vtexassets.com/assets/vtex/assets-builder/wepink.store-theme/3.1.40/svg/logo-primary___5bd0e7fa6451ba181395889123dfe00a.svg" />
    
    <script type="module" crossorigin src="/assets/index-CW-4WPD7.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-BgLakr_I.css">
  </head>

  <body>
    <div id="root"></div>
    <script>
      // Detect API URL from environment or Railway
      const isProduction = window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1';
      const defaultApiUrl = isProduction ? 'https://wepas-production-ala6.up.railway.app' : 'http://localhost:8001';
      
      window.API_BASE_URL = localStorage.getItem('apiBaseUrl') || defaultApiUrl;
      
      // Try to get from /api/config if available
      fetch('/api/config/')
        .then(r => r.json())
        .then(data => {
          window.API_BASE_URL = data.apiBaseUrl;
          localStorage.setItem('apiBaseUrl', data.apiBaseUrl);
        })
        .catch(() => {
          // Use default if /api/config is not available
          window.API_BASE_URL = defaultApiUrl;
        });
      
      // Intercept all fetch calls to replace localhost:8000/8001 with API_BASE_URL
      const originalFetch = window.fetch;
      window.fetch = function(...args) {
        let url = args[0];
        if (typeof url === 'string') {
          url = url.replace(/http:\/\/localhost:8000/g, window.API_BASE_URL);
          url = url.replace(/http:\/\/localhost:8001/g, window.API_BASE_URL);
          args[0] = url;
        }
        return originalFetch.apply(this, args);
      };
    </script>
    <script
  src="https://cdn.utmify.com.br/scripts/utms/latest.js"
  data-utmify-prevent-xcod-sck
  data-utmify-prevent-subids
  async
  defer
></script>
  </body>
</html>
